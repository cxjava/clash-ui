import{r as E}from"./index-859af71a.js";function L(){return L=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},L.apply(null,arguments)}function U(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function W(n,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W(n,t)}function ot(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,W(n,t)}var q=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function st(n,t){return!!(n===t||q(n)&&q(t))}function lt(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!st(n[r],t[r]))return!1;return!0}function F(n,t){t===void 0&&(t=lt);var r,i=[],o,l=!1;function c(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return l&&r===this&&t(f,i)||(o=n.apply(this,f),l=!0,r=this,i=f),o}return c}function H(n,t){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;r[i]=n[i]}return r}var ct=typeof performance=="object"&&typeof performance.now=="function",j=ct?function(){return performance.now()}:function(){return Date.now()};function V(n){cancelAnimationFrame(n.id)}function ut(n,t){var r=j();function i(){j()-r>=t?n.call(null):o.id=requestAnimationFrame(i)}var o={id:requestAnimationFrame(i)};return o}var N=-1;function K(n){if(n===void 0&&(n=!1),N===-1||n){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),N=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return N}var C=null;function B(n){if(n===void 0&&(n=!1),C===null||n){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var i=document.createElement("div"),o=i.style;return o.width="100px",o.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?C="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?C="negative":C="positive-ascending"),document.body.removeChild(t),C}return C}var ft=150,dt=function(t,r){return t};function J(n){var t,r=n.getItemOffset,i=n.getEstimatedTotalSize,o=n.getItemSize,l=n.getOffsetForIndexAndAlignment,c=n.getStartIndexForOffset,f=n.getStopIndexForStartIndex,p=n.initInstanceProps,z=n.shouldResetStyleCacheOnItemSizeChange,S=n.validateProps;return t=function(O){ot(M,O);function M(v){var e;return e=O.call(this,v)||this,e._instanceProps=p(e.props,U(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:U(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=F(function(a,s,u,m){return e.props.onItemsRendered({overscanStartIndex:a,overscanStopIndex:s,visibleStartIndex:u,visibleStopIndex:m})}),e._callOnScroll=void 0,e._callOnScroll=F(function(a,s,u){return e.props.onScroll({scrollDirection:a,scrollOffset:s,scrollUpdateWasRequested:u})}),e._getItemStyle=void 0,e._getItemStyle=function(a){var s=e.props,u=s.direction,m=s.itemSize,g=s.layout,d=e._getItemStyleCache(z&&m,z&&g,z&&u),h;if(d.hasOwnProperty(a))h=d[a];else{var y=r(e.props,a,e._instanceProps),x=o(e.props,a,e._instanceProps),T=u==="horizontal"||g==="horizontal",b=u==="rtl",R=T?y:0;d[a]=h={position:"absolute",left:b?void 0:R,right:b?R:void 0,top:T?0:y,height:T?"100%":x,width:T?x:"100%"}}return h},e._getItemStyleCache=void 0,e._getItemStyleCache=F(function(a,s,u){return{}}),e._onScrollHorizontal=function(a){var s=a.currentTarget,u=s.clientWidth,m=s.scrollLeft,g=s.scrollWidth;e.setState(function(d){if(d.scrollOffset===m)return null;var h=e.props.direction,y=m;if(h==="rtl")switch(B()){case"negative":y=-m;break;case"positive-descending":y=g-u-m;break}return y=Math.max(0,Math.min(y,g-u)),{isScrolling:!0,scrollDirection:d.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(a){var s=a.currentTarget,u=s.clientHeight,m=s.scrollHeight,g=s.scrollTop;e.setState(function(d){if(d.scrollOffset===g)return null;var h=Math.max(0,Math.min(g,m-u));return{isScrolling:!0,scrollDirection:d.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(a){var s=e.props.outerRef;e._outerRef=a,typeof s=="function"?s(a):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=a)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&V(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=ut(e._resetIsScrolling,ft)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}M.getDerivedStateFromProps=function(e,a){return mt(e,a),S(e),null};var I=M.prototype;return I.scrollTo=function(e){e=Math.max(0,e),this.setState(function(a){return a.scrollOffset===e?null:{scrollDirection:a.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(e,a){a===void 0&&(a="auto");var s=this.props,u=s.itemCount,m=s.layout,g=this.state.scrollOffset;e=Math.max(0,Math.min(e,u-1));var d=0;if(this._outerRef){var h=this._outerRef;m==="vertical"?d=h.scrollWidth>h.clientWidth?K():0:d=h.scrollHeight>h.clientHeight?K():0}this.scrollTo(l(this.props,e,a,g,this._instanceProps,d))},I.componentDidMount=function(){var e=this.props,a=e.direction,s=e.initialScrollOffset,u=e.layout;if(typeof s=="number"&&this._outerRef!=null){var m=this._outerRef;a==="horizontal"||u==="horizontal"?m.scrollLeft=s:m.scrollTop=s}this._callPropsCallbacks()},I.componentDidUpdate=function(){var e=this.props,a=e.direction,s=e.layout,u=this.state,m=u.scrollOffset,g=u.scrollUpdateWasRequested;if(g&&this._outerRef!=null){var d=this._outerRef;if(a==="horizontal"||s==="horizontal")if(a==="rtl")switch(B()){case"negative":d.scrollLeft=-m;break;case"positive-ascending":d.scrollLeft=m;break;default:var h=d.clientWidth,y=d.scrollWidth;d.scrollLeft=y-h-m;break}else d.scrollLeft=m;else d.scrollTop=m}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&V(this._resetIsScrollingTimeoutId)},I.render=function(){var e=this.props,a=e.children,s=e.className,u=e.direction,m=e.height,g=e.innerRef,d=e.innerElementType,h=e.innerTagName,y=e.itemCount,x=e.itemData,T=e.itemKey,b=T===void 0?dt:T,R=e.layout,X=e.outerElementType,Y=e.outerTagName,tt=e.style,et=e.useIsScrolling,rt=e.width,A=this.state.isScrolling,P=u==="horizontal"||R==="horizontal",it=P?this._onScrollHorizontal:this._onScrollVertical,D=this._getRangeToRender(),nt=D[0],at=D[1],k=[];if(y>0)for(var w=nt;w<=at;w++)k.push(E.createElement(a,{data:x,key:b(w,x),index:w,isScrolling:et?A:void 0,style:this._getItemStyle(w)}));var $=i(this.props,this._instanceProps);return E.createElement(X||Y||"div",{className:s,onScroll:it,ref:this._outerRefSetter,style:L({position:"relative",height:m,width:rt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},tt)},E.createElement(d||h||"div",{children:k,ref:g,style:{height:P?"100%":$,pointerEvents:A?"none":void 0,width:P?$:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var a=this._getRangeToRender(),s=a[0],u=a[1],m=a[2],g=a[3];this._callOnItemsRendered(s,u,m,g)}}if(typeof this.props.onScroll=="function"){var d=this.state,h=d.scrollDirection,y=d.scrollOffset,x=d.scrollUpdateWasRequested;this._callOnScroll(h,y,x)}},I._getRangeToRender=function(){var e=this.props,a=e.itemCount,s=e.overscanCount,u=this.state,m=u.isScrolling,g=u.scrollDirection,d=u.scrollOffset;if(a===0)return[0,0,0,0];var h=c(this.props,d,this._instanceProps),y=f(this.props,h,d,this._instanceProps),x=!m||g==="backward"?Math.max(1,s):1,T=!m||g==="forward"?Math.max(1,s):1;return[Math.max(0,h-x),Math.max(0,Math.min(a-1,y+T)),h,y]},M}(E.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var mt=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},ht=50,_=function(t,r,i){var o=t,l=o.itemSize,c=i.itemMetadataMap,f=i.lastMeasuredIndex;if(r>f){var p=0;if(f>=0){var z=c[f];p=z.offset+z.size}for(var S=f+1;S<=r;S++){var O=l(S);c[S]={offset:p,size:O},p+=O}i.lastMeasuredIndex=r}return c[r]},vt=function(t,r,i){var o=r.itemMetadataMap,l=r.lastMeasuredIndex,c=l>0?o[l].offset:0;return c>=i?Q(t,r,l,0,i):pt(t,r,Math.max(0,l),i)},Q=function(t,r,i,o,l){for(;o<=i;){var c=o+Math.floor((i-o)/2),f=_(t,c,r).offset;if(f===l)return c;f<l?o=c+1:f>l&&(i=c-1)}return o>0?o-1:0},pt=function(t,r,i,o){for(var l=t.itemCount,c=1;i<l&&_(t,i,r).offset<o;)i+=c,c*=2;return Q(t,r,Math.min(i,l-1),Math.floor(i/2),o)},G=function(t,r){var i=t.itemCount,o=r.itemMetadataMap,l=r.estimatedItemSize,c=r.lastMeasuredIndex,f=0;if(c>=i&&(c=i-1),c>=0){var p=o[c];f=p.offset+p.size}var z=i-c-1,S=z*l;return f+S},yt=J({getItemOffset:function(t,r,i){return _(t,r,i).offset},getItemSize:function(t,r,i){return i.itemMetadataMap[r].size},getEstimatedTotalSize:G,getOffsetForIndexAndAlignment:function(t,r,i,o,l,c){var f=t.direction,p=t.height,z=t.layout,S=t.width,O=f==="horizontal"||z==="horizontal",M=O?S:p,I=_(t,r,l),v=G(t,l),e=Math.max(0,Math.min(v-M,I.offset)),a=Math.max(0,I.offset-M+I.size+c);switch(i==="smart"&&(o>=a-M&&o<=e+M?i="auto":i="center"),i){case"start":return e;case"end":return a;case"center":return Math.round(a+(e-a)/2);case"auto":default:return o>=a&&o<=e?o:o<a?a:e}},getStartIndexForOffset:function(t,r,i){return vt(t,i,r)},getStopIndexForStartIndex:function(t,r,i,o){for(var l=t.direction,c=t.height,f=t.itemCount,p=t.layout,z=t.width,S=l==="horizontal"||p==="horizontal",O=S?z:c,M=_(t,r,o),I=i+O,v=M.offset+M.size,e=r;e<f-1&&v<I;)e++,v+=_(t,e,o).size;return e},initInstanceProps:function(t,r){var i=t,o=i.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:o||ht,lastMeasuredIndex:-1};return r.resetAfterIndex=function(c,f){f===void 0&&(f=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),r._getItemStyleCache(-1),f&&r.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),zt=J({getItemOffset:function(t,r){var i=t.itemSize;return r*i},getItemSize:function(t,r){var i=t.itemSize;return i},getEstimatedTotalSize:function(t){var r=t.itemCount,i=t.itemSize;return i*r},getOffsetForIndexAndAlignment:function(t,r,i,o,l,c){var f=t.direction,p=t.height,z=t.itemCount,S=t.itemSize,O=t.layout,M=t.width,I=f==="horizontal"||O==="horizontal",v=I?M:p,e=Math.max(0,z*S-v),a=Math.min(e,r*S),s=Math.max(0,r*S-v+S+c);switch(i==="smart"&&(o>=s-v&&o<=a+v?i="auto":i="center"),i){case"start":return a;case"end":return s;case"center":{var u=Math.round(s+(a-s)/2);return u<Math.ceil(v/2)?0:u>e+Math.floor(v/2)?e:u}case"auto":default:return o>=s&&o<=a?o:o<s?s:a}},getStartIndexForOffset:function(t,r){var i=t.itemCount,o=t.itemSize;return Math.max(0,Math.min(i-1,Math.floor(r/o)))},getStopIndexForStartIndex:function(t,r,i){var o=t.direction,l=t.height,c=t.itemCount,f=t.itemSize,p=t.layout,z=t.width,S=o==="horizontal"||p==="horizontal",O=r*f,M=S?z:l,I=Math.ceil((M+i-O)/f);return Math.max(0,Math.min(c-1,r+I-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function Z(n,t){for(var r in n)if(!(r in t))return!0;for(var i in t)if(n[i]!==t[i])return!0;return!1}var St=["style"],gt=["style"];function Mt(n,t){var r=n.style,i=H(n,St),o=t.style,l=H(t,gt);return!Z(r,o)&&!Z(i,l)}export{zt as F,yt as V,Mt as a};
